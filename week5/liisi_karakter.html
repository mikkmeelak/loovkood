<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
	<title>LOOVKOOD</title>
	<style>
		/* here you can change the background */
		body { background-color: black; }
		canvas { position: fixed; top: 0; right: 0; bottom: 0; left: 0; }
		img { display: none; }
	</style>
</head>

<body>
	<canvas id="canvas" resize keepalive="true" hidpi="off"></canvas>
</body>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.9.25/paper-full.min.js"></script>
<script type="text/javascript">
	paper.install(window);

	window.onload = function() {
		paper.setup('canvas');

		view.viewSize = [ window.innerWidth, window.innerHeight ];
		window.onresize = function(event) { view.viewSize = [ window.innerWidth, window.innerHeight ]; }
		var tool = new Tool();


		// YOUR CODE STARTS HERE

		// measure screen size and save it
		var WIDTH = view.size.width;
		var HEIGHT = view.size.height;

		var AXIS_X = 0;
		var AXIS_Y = 0;

	var firstSegment = new Segment({
    point: [WIDTH, HEIGHT/2],
    handleOut: [HEIGHT, 800],
});

    var secondSegment = new Segment({
    point: [WIDTH, HEIGHT/2],
    handleIn: [-HEIGHT,-800],
});

//    var thirdSegment = new Segment({
//    point: [WIDTH, HEIGHT/2],
//    handleOut: [HEIGHT, 800]
//});


var path = new Path({
    segments: [firstSegment, secondSegment],
    strokeColor: 'powderblue',
    strokeWidth: 100,
    opacity: 0.8,
    dashArray: [ 2, 2 ],
});

//var BOX = new Path.Rectangle(WIDTH / 2 - 180, HEIGHT / 2 - 180, 360, 360);
//		BOX.fillColor = new Color({
//			hue: 360,
//			saturation: 1,
//			brightness: 1
//		});

//		BOX.strokeColor = new Color(1);
//		BOX.strokeWidth = 6;

		// this function runs every frame
view.onFrame = function(event) {
			// BOX.rotate(6);	// spin the box

			// BOX.fillColor.hue = AXIS_X * 360;
			// BACKGROUND.fillColor.hue = AXIS_Y * 360;

			path.strokeWidth = AXIS_Y * 100;
			//BOX.dashArray = [ AXIS_X * 10, AXIS_Y * 10];

    for (var i = 0; i < path.segments.length; i++) {
		if (i % 2 == 0) {
			path.segments[i].point.x = AXIS_Y * WIDTH;
		}
    	else {
			path.segments[i].point.y = AXIS_X * HEIGHT / 2;
		}
    }

			// takes everything and centers it
project.activeLayer.position = view.center;
		};


view.onMouseMove = function(event) {
	AXIS_X = event.point.x / WIDTH * 2;
	AXIS_Y = event.point.y / HEIGHT;
	};
};
</script>
</html>
